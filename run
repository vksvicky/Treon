#!/bin/bash
# Simple launcher script for Treon
# Usage: ./run [debug|release|dev|watch|debug|profile]

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

case "${1:-debug}" in
    debug)
        echo "ğŸš€ Starting Treon in debug mode..."
        "$SCRIPT_DIR/scripts/run_app.sh" debug
        ;;
    release)
        echo "ğŸš€ Starting Treon in release mode..."
        "$SCRIPT_DIR/scripts/run_app.sh" release
        ;;
    dev)
        echo "ğŸ› ï¸  Starting Treon in development mode..."
        "$SCRIPT_DIR/scripts/dev_run.sh" run
        ;;
    watch)
        echo "ğŸ‘€ Starting Treon in watch mode..."
        "$SCRIPT_DIR/scripts/dev_run.sh" watch
        ;;
    debugger)
        echo "ğŸ› Starting Treon with debugger..."
        "$SCRIPT_DIR/scripts/dev_run.sh" debug
        ;;
    profile)
        echo "ğŸ“Š Starting Treon in profile mode..."
        "$SCRIPT_DIR/scripts/dev_run.sh" profile
        ;;
    build)
        echo "ğŸ”¨ Building Treon..."
        make build
        ;;
    test)
        echo "ğŸ§ª Running tests..."
        make test
        ;;
    test-coverage)
        echo "ğŸ§ª Running tests with coverage..."
        make test-coverage
        ;;
    clean)
        echo "ğŸ§¹ Cleaning build artifacts..."
        make clean
        ;;
    help|--help|-h)
        echo "Treon Launcher"
        echo ""
        echo "Usage: $0 [COMMAND]"
        echo ""
        echo "Commands:"
        echo "  debug      Run in debug mode (default)"
        echo "  release    Run in release mode"
        echo "  dev        Development mode with hot reload"
        echo "  watch      Watch for changes and rebuild"
        echo "  debugger   Run with debugger"
        echo "  profile    Run with profiling"
        echo "  build      Build the application"
        echo "  test       Run tests"
        echo "  test-coverage  Run tests with coverage report"
        echo "  clean      Clean build artifacts"
        echo "  help       Show this help"
        echo ""
        echo "Examples:"
        echo "  $0              # Run in debug mode"
        echo "  $0 release      # Run in release mode"
        echo "  $0 dev          # Development mode"
        echo "  $0 watch        # Watch mode"
        ;;
    *)
        echo "âŒ Unknown command: $1"
        echo "Run '$0 help' for available commands"
        exit 1
        ;;
esac
